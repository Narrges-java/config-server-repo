server.port=8088
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=myblog
spring.datasource.password=
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
eureka.client.service-url.defaultZone= http://localhost:8761/eureka/


# expose actuator endpoints (برای دیدن متریک‌ها/events)
management.endpoints.web.exposure.include=health,info,metrics,circuitbreakers,beans
management.endpoint.health.show-details=always
management.health.circuitbreakers.enabled=true

# Resilience4j — نمونه برای instance با نام departmentService
resilience4j.circuitbreaker.instances.departmentService.failureRateThreshold=50
resilience4j.circuitbreaker.instances.departmentService.slidingWindowSize=10
resilience4j.circuitbreaker.instances.departmentService.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.departmentService.waitDurationInOpenState=30s
resilience4j.circuitbreaker.instances.departmentService.permittedNumberOfCallsInHalfOpenState=3
# اختیاری: اگر خواستی فقط برخی استثناها رو بشماره یا نادیده بگیره (به نکته‌ی پایین توجه کن)
# resilience4j.circuitbreaker.instances.departmentService.recordExceptions=org.springframework.web.client.HttpServerErrorException
# resilience4j.circuitbreaker.instances.departmentService.ignoreExceptions=org.springframework.web.client.HttpClientErrorException$NotFound

